import{createClient as f}from"https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.0/+esm";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function d(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=d(e);fetch(e.href,t)}})();var n,a;const u=((a=(n=import.meta)==null?void 0:n.env)==null?void 0:a.VITE_SUPABASE_URL)||"https://itnmsmxzkizlnoaurxsj.supabase.co";var c,l;const p=((l=(c=import.meta)==null?void 0:c.env)==null?void 0:l.VITE_SUPABASE_ANON_KEY)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml0bm1zbXh6a2l6bG5vYXVyeHNqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU5ODAxNTksImV4cCI6MjA4MTU1NjE1OX0.10VO8HUxbGSqSK0_qiLBS0J9_HCpWKKZi6BXZlzCtlo";if(u.includes("YOUR_SUPABASE_URL")){const o=document.querySelector("body");throw o&&(o.innerHTML=`
            <div style="padding: 2rem; text-align: center; font-family: sans-serif; background-color: #fff5f5; color: #c53030; position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 9999;">
                <h1 style="font-size: 1.5rem; font-weight: bold;">Configuration Error</h1>
                <p>Your Supabase URL and Key are not set correctly. Please update them in <strong>js/shared/supabaseClient.js</strong>.</p>
            </div>
        `),new Error("Supabase credentials are missing or are still placeholders!")}const m=f(u,p,{auth:{storage:window.sessionStorage,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});m.auth.onAuthStateChange((o,r)=>{(o==="SIGNED_OUT"||o==="TOKEN_REFRESHED"&&!r)&&(window.location.pathname.includes("/auth/login")||(console.log("ðŸ”’ Admin session expired - redirecting to login"),window.location.replace("/auth/login.html")))});export{m as s};
